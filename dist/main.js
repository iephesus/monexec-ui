!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function i(){}function r(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){for(var n in t)e[n]=1;return e}function s(e,t){t.appendChild(e)}function a(e,t,n){t.insertBefore(e,n)}function c(e){e.parentNode.removeChild(e)}function l(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function d(){return document.createComment("")}function h(e,t,n){e.addEventListener(t,n,!1)}function g(e,t,n){e.removeEventListener(t,n,!1)}function m(e,t,n){e.style.setProperty(t,n)}n.r(t);var p={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add(e){this.transitions.push(e),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule(e,t){if(!this.stylesheet){const e=f("style");document.head.appendChild(e),p.stylesheet=e.sheet}this.activeRules[t]||(this.activeRules[t]=!0,this.stylesheet.insertRule(`@keyframes ${t} ${e}`,this.stylesheet.cssRules.length))},next(){this.running=!1;const e=window.performance.now();let t=this.transitions.length;for(;t--;){const n=this.transitions[t];n.program&&e>=n.program.end&&n.done(),n.pending&&e>=n.pending.start&&n.start(n.pending),n.running?(n.update(e),this.running=!0):n.pending||this.transitions.splice(t,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){let e=this.stylesheet.cssRules.length;for(;e--;)this.stylesheet.deleteRule(e);this.activeRules={}}},deleteRule(e,t){e.style.animation=e.style.animation.split(", ").filter(e=>e&&-1===e.indexOf(t)).join(", ")},groupOutros(){this.outros={remaining:0,callbacks:[]}},wait:()=>(p.promise||(p.promise=Promise.resolve(),p.promise.then(()=>{p.promise=null})),p.promise)};function v(e,t){var n=t.token={};function i(e,i,o,s){if(t.token!==n)return;t.resolved=o&&{[o]:s};const a=r(r({},t.ctx),t.resolved),c=e&&(t.current=e)(t.component,a);t.block&&(t.blocks?t.blocks.forEach((e,n)=>{n!==i&&e&&(p.groupOutros(),e.o(()=>{e.d(1),t.blocks[n]=null}))}):t.block.d(1),c.c(),c[c.i?"i":"m"](t.mount(),t.anchor),t.component.root.set({})),t.block=c,t.blocks&&(t.blocks[i]=c)}if(function(e){return e&&"function"==typeof e.then}(e)){if(e.then(e=>{i(t.then,1,t.value,e)},e=>{i(t.catch,2,t.error,e)}),t.current!==t.pending)return i(t.pending,0),!0}else{if(t.current!==t.then)return i(t.then,1,t.value,e),!0;t.resolved={[t.value]:e}}}function b(e){this.destroy=i,this.fire("destroy"),this.set=i,this._fragment.d(!1!==e),this._fragment=null,this._state={}}function _(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function j(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var i=0;i<n.length;i+=1){var r=n[i];r.__calling||(r.__calling=!0,r.call(this,t),r.__calling=!1)}}function y(){return this._state}function k(e,t){e._handlers=Object.create(null),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=t.store||e.root.store}function x(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function N(e){this._set(r({},e)),this.root._lock||(this.root._lock=!0,O(this.root._beforecreate),O(this.root._oncreate),O(this.root._aftercreate),this.root._lock=!1)}function w(e){var t=this._state,n={},i=!1;for(var o in e)this._differs(e[o],t[o])&&(n[o]=i=!0);i&&(this._state=r(r({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:t})))}function O(e){for(;e&&e.length;)e.shift()()}function R(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)}var S={destroy:b,get:y,fire:j,on:x,set:N,_recompute:i,_set:w,_mount:R,_differs:_};var C={fetchState(){const{config:e,base:t}=this.get();return fetch(`${t}/instance/`+encodeURIComponent(e.Name),{method:"get"}).then(e=>404===e.status?{running:!1}:e.json()).then(e=>{this.set({running:e.running})}).catch(t=>{console.error(e.Name,t)})},start(){const{running:e,config:t,base:n}=this.get();if(!e)return this.set({running:null}),fetch(`${n}/supervisor/`+encodeURIComponent(t.Name),{method:"post"}).then(e=>{if(200===e.status)return this.fetchState();console.warn(e.status,e.statusText)}).catch(e=>{console.error(t.Name,e)})},stop(){const{running:e,config:t,base:n}=this.get();if(e)return this.set({running:null}),fetch(`${n}/instance/`+encodeURIComponent(t.Name),{method:"post"}).then(e=>{if(204===e.status)return this.fetchState();console.warn(e.status,e.statusText)}).catch(e=>{console.error(t.Name,e)})},toogle(){this.fire("clicked")}};function T(){clearTimeout(this.timeout)}function E(e,t){var n;return{c(){(n=f("div")).className="circle bg-grey blinking svelte-121afjh"},m(e,t){a(n,e,t)},d(e){e&&c(n)}}}function F(e,t){var n;return{c(){(n=f("div")).className="circle bg-green svelte-121afjh"},m(e,t){a(n,e,t)},d(e){e&&c(n)}}}function I(e,t){var n;return{c(){(n=f("div")).className="circle bg-red svelte-121afjh"},m(e,t){a(n,e,t)},d(e){e&&c(n)}}}function L(e,t){var n;return{c(){n=u("checking...")},m(e,t){a(n,e,t)},d(e){e&&c(n)}}}function P(e,t){var n;function i(t){e.stop()}return{c(){(n=f("a")).innerHTML='<div class="stop svelte-121afjh"></div>\n                    stop',h(n,"click",i),n.className="nicebtn svelte-121afjh"},m(e,t){a(n,e,t)},d(e){e&&c(n),g(n,"click",i)}}}function $(e,t){var n;function i(t){e.start()}return{c(){(n=f("a")).innerHTML='<div class="play svelte-121afjh"></div>\n                    start',h(n,"click",i),n.className="nicebtn svelte-121afjh"},m(e,t){a(n,e,t)},d(e){e&&c(n),g(n,"click",i)}}}function M(e,t){var n,i,r,o=t.config.WorkDir;return{c(){n=f("div"),i=u(" at: "),r=u(o),m(n,"font-style","italic"),m(n,"font-family","monospace"),m(n,"color","gray"),m(n,"border-top","lightgray dotted 1px"),m(n,"padding-top","0.5em"),m(n,"padding-left","8px"),m(n,"padding-right","8px"),m(n,"margin-top","0.5em"),m(n,"margin-left","-8px"),m(n,"margin-right","-8px")},m(e,t){a(n,e,t),s(i,n),s(r,n)},p(e,t){e.config&&o!==(o=t.config.WorkDir)&&(r.data=o)},d(e){e&&c(n)}}}function U(e,t){var n,i,r,o,l,d,h=t.name,g=t.value;return{c(){n=f("tr"),i=f("th"),r=u(h),o=u("\n                    "),l=f("td"),d=u(g),m(l,"word-break","break-all")},m(e,t){a(n,e,t),s(i,n),s(r,i),s(o,n),s(l,n),s(d,l)},p(e,t){(e.Object||e.config)&&h!==(h=t.name)&&(r.data=h),(e.Object||e.config)&&g!==(g=t.value)&&(d.data=g)},d(e){e&&c(n)}}}function A(e,t){for(var n,i=t.Object.entries(t.config.Environment),r=[],o=0;o<i.length;o+=1)r[o]=U(0,B(t,i,o));return{c(){n=f("table");for(var e=0;e<r.length;e+=1)r[e].c();n.className="env svelte-121afjh"},m(e,t){a(n,e,t);for(var i=0;i<r.length;i+=1)r[i].m(n,null)},p(e,t){if(e.Object||e.config){i=t.Object.entries(t.config.Environment);for(var o=0;o<i.length;o+=1){const s=B(t,i,o);r[o]?r[o].p(e,s):(r[o]=U(0,s),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},d(e){e&&c(n),l(r,e)}}}function D(e,t){var n,i,r;return{c(){n=f("span"),(i=f("a")).textContent="download log file",i.href=r=t.base+"/supervisor/"+t.config.Name+"/log"},m(e,t){a(n,e,t),s(i,n)},p(e,t){(e.base||e.config)&&r!==(r=t.base+"/supervisor/"+t.config.Name+"/log")&&(i.href=r)},d(e){e&&c(n)}}}function W(e,t){var n,i,r,o,l,d,m,p,v,b,_,j,y,k,x,N,w,O,R,S=-1===t.config.Restart?"∞":t.config.Restart,C=(t.config.RestartTimeout/1e9).toFixed(2),T=(t.config.StopTimeout/1e9).toFixed(2),E=t.config.WorkDir&&M(0,t);function F(t){e.toogle()}var I=t.config.Environment&&A(0,t),L=t.config.LogFile&&D(0,t);return{c(){n=f("div"),i=f("div"),E&&E.c(),r=u("\n            "),I&&I.c(),o=u("\n            "),l=f("div"),d=f("span"),m=u("restart: "),p=u(S),v=u("\n                "),b=f("span"),_=u("restart timeout: "),j=u(C),y=u("s"),k=u("\n                "),x=f("span"),N=u("stop timeout: "),w=u(T),O=u("s"),R=u("\n                "),L&&L.c(),i.className="run svelte-121afjh",h(n,"click",F),n.className="mainblock svelte-121afjh",d.className="green rborder svelte-121afjh",b.className="blue rborder svelte-121afjh",x.className="orange rborder svelte-121afjh",l.className="footer svelte-121afjh"},m(e,t){a(n,e,t),s(i,n),E&&E.m(i,null),a(r,e,t),I&&I.m(e,t),a(o,e,t),a(l,e,t),s(d,l),s(m,d),s(p,d),s(v,l),s(b,l),s(_,b),s(j,b),s(y,b),s(k,l),s(x,l),s(N,x),s(w,x),s(O,x),s(R,l),L&&L.m(l,null)},p(e,t){t.config.WorkDir?E?E.p(e,t):((E=M(0,t)).c(),E.m(i,null)):E&&(E.d(1),E=null),t.config.Environment?I?I.p(e,t):((I=A(0,t)).c(),I.m(o.parentNode,o)):I&&(I.d(1),I=null),e.config&&S!==(S=-1===t.config.Restart?"∞":t.config.Restart)&&(p.data=S),e.config&&C!==(C=(t.config.RestartTimeout/1e9).toFixed(2))&&(j.data=C),e.config&&T!==(T=(t.config.StopTimeout/1e9).toFixed(2))&&(w.data=T),t.config.LogFile?L?L.p(e,t):((L=D(0,t)).c(),L.m(l,null)):L&&(L.d(1),L=null)},d(e){e&&c(n),E&&E.d(),g(n,"click",F),e&&c(r),I&&I.d(e),e&&(c(o),c(l)),L&&L.d()}}}function B(e,t,n){const i=Object.create(e);return i.name=t[n][0],i.value=t[n][1],i.each_value=t,i.each_index=n,i}function q(e){k(this,e),this._state=r(r({Object:Object},{running:null,base:"..",detailed:!1}),e.data),this._intro=!0,this._handlers.destroy=[T],document.getElementById("svelte-121afjh-style")||function(){var e=f("style");e.id="svelte-121afjh-style",e.textContent='.green.svelte-121afjh{color:green}.orange.svelte-121afjh{color:red}.blue.svelte-121afjh{color:blue}.bg-green.svelte-121afjh{background-color:limegreen}.bg-red.svelte-121afjh{background-color:red}.bg-grey.svelte-121afjh{background-color:lightgray}.circle.svelte-121afjh{display:inline-block;width:1em;height:1em;border-radius:0.5em;margin-bottom:2px}.run.svelte-121afjh{width:100%;padding:8px;border-radius:5px}.nicebtn.svelte-121afjh{display:flex;flex-direction:row;align-items:center}.nicebtn.svelte-121afjh:hover{background:whitesmoke}.mainblock.svelte-121afjh{display:flex;flex-direction:row}.rborder.svelte-121afjh{border-right:darkgray dashed 1px;padding-right:1em}.env.svelte-121afjh{width:100%;text-align:left;font-family:monospace}.blinking.svelte-121afjh{animation:svelte-121afjh-blinking 2s linear infinite}.card.svelte-121afjh{box-shadow:0 4px 8px 0 rgba(0, 0, 0, 0.2);transition:0.3s;border-radius:5px;font-family:"Lucida Sans Unicode", "Lucida Grande", sans-serif;margin:5px;display:inline-block;max-width:300px}.detailed.svelte-121afjh{max-width:100% !important}.card.svelte-121afjh:hover{box-shadow:0 8px 16px 0 rgba(0, 0, 0, 0.2)}.container.svelte-121afjh{padding:8px 16px}.header.svelte-121afjh{display:flex;flex-direction:row;align-items:center;justify-content:center}.name.svelte-121afjh{padding:2px;font-size:1em;font-weight:bold;text-transform:uppercase}.play.svelte-121afjh{width:0;height:0;border-style:solid;border-width:1em 0 1em 2em;border-color:transparent transparent transparent #000000;display:inline-block;margin:2px}.stop.svelte-121afjh{width:2em;height:2em;display:inline-block;border:black solid 2px;margin:2px}@keyframes svelte-121afjh-blinking{50%{opacity:0}}',s(e,document.head)}(),e.root||(this._oncreate=[]),this._fragment=function(e,t){var n,i,r,o,l,d,p,v,b,_,j,y,k,x,N,w,O,R,S=t.config.Name,C=t.config.Command,T=t.config.Args.join(" ");function M(e){return null===e.running?E:e.running?F:I}var U=M(t),A=U(e,t);function D(t){e.toogle()}function B(e){return null===e.running?L:e.running?P:$}var q=B(t),H=q(e,t);function z(t){e.toogle()}function G(t){e.toogle()}var J=t.detailed&&W(e,t);return{c(){n=f("div"),i=f("div"),r=f("div"),o=f("span"),l=u(S),d=u("\n            "),A.c(),p=u("\n        "),v=f("div"),b=f("div"),H.c(),_=u("\n            "),j=f("p"),y=u("\n            "),k=f("pre"),x=u(C),N=u(" "),w=u(T),O=u("\n            "),J&&J.c(),o.className="name svelte-121afjh",h(r,"click",D),r.className="header svelte-121afjh",h(j,"click",z),h(k,"click",G),m(k,"margin","0"),v.className="body svelte-121afjh",i.className="container svelte-121afjh",n.className=R="card "+(t.detailed?"detailed":"")+" svelte-121afjh"},m(e,t){a(n,e,t),s(i,n),s(r,i),s(o,r),s(l,o),s(d,r),A.m(r,null),s(p,i),s(v,i),s(b,v),H.m(b,null),s(_,v),s(j,v),s(y,v),s(k,v),s(x,k),s(N,k),s(w,k),s(O,v),J&&J.m(v,null)},p(t,i){t.config&&S!==(S=i.config.Name)&&(l.data=S),U!==(U=M(i))&&(A.d(1),(A=U(e,i)).c(),A.m(r,null)),q!==(q=B(i))&&(H.d(1),(H=q(e,i)).c(),H.m(b,null)),t.config&&C!==(C=i.config.Command)&&(x.data=C),t.config&&T!==(T=i.config.Args.join(" "))&&(w.data=T),i.detailed?J?J.p(t,i):((J=W(e,i)).c(),J.m(v,null)):J&&(J.d(1),J=null),t.detailed&&R!==(R="card "+(i.detailed?"detailed":"")+" svelte-121afjh")&&(n.className=R)},d(e){e&&c(n),A.d(),g(r,"click",D),H.d(),g(j,"click",z),g(k,"click",G),J&&J.d()}}}(this,this._state),this.root._oncreate.push(()=>{(function(e){let t=()=>{this.timeout=setTimeout(()=>{this.fetchState().finally(()=>{t()})},2e3)};this.fetchState().then(()=>t())}).call(this),this.fire("update",{changed:o({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),O(this._oncreate))}r(q.prototype,S),r(q.prototype,C);var H=q;var z={onItemSelected(e){this.set({selected:e})}};function G(e,t){var n;return{c(){(n=f("p")).textContent="loading..."},m(e,t){a(n,e,t)},p:i,d(e){e&&c(n)}}}function J(e,t){var n={config:t.config,base:t.base,detailed:t.selected==t.config},i=new H({root:e.root,store:e.store,data:n});return i.on("clicked",function(n){e.onItemSelected(t.config)}),{c(){i._fragment.c()},m(e,t){i._mount(e,t)},p(e,n){t=n;var r={};e.configs&&(r.config=t.config),e.base&&(r.base=t.base),(e.selected||e.configs)&&(r.detailed=t.selected==t.config),i._set(r)},d(e){i.destroy(e)}}}function K(e,t){for(var n,i=t.configs,r=[],o=0;o<i.length;o+=1)r[o]=J(e,V(t,i,o));return{c(){for(var e=0;e<r.length;e+=1)r[e].c();n=d()},m(e,t){for(var i=0;i<r.length;i+=1)r[i].m(e,t);a(n,e,t)},p(t,o){if(t.configs||t.base||t.selected){i=o.configs;for(var s=0;s<i.length;s+=1){const a=V(o,i,s);r[s]?r[s].p(t,a):(r[s]=J(e,a),r[s].c(),r[s].m(n.parentNode,n))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}},d(e){l(r,e),e&&c(n)}}}function Q(e,t){return{c:i,m:i,p:i,d:i}}function V(e,t,n){const i=Object.create(e);return i.config=t[n],i.each_value=t,i.config_index=n,i}function X(e){k(this,e),this._state=r({configs:[],base:"..",selected:null},e.data),this._intro=!0,e.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(e,t){var n,i;let o={component:e,ctx:t,current:null,pending:G,then:K,catch:Q,value:"configs",error:"null"};return v(i=t.configs,o),{c(){n=d(),o.block.c()},m(e,t){a(n,e,t),o.block.m(e,o.anchor=t),o.mount=(()=>n.parentNode)},p(e,n){t=n,o.ctx=t,"configs"in e&&i!==(i=t.configs)&&v(i,o)||o.block.p(e,r(r({},t),o.resolved))},d(e){e&&c(n),o.block.d(e),o=null}}}(this,this._state),this.root._oncreate.push(()=>{(function(){const{base:e}=this.get();fetch(`${e}/supervisors`,{method:"get"}).then(e=>e.json()).then(t=>Promise.all(t.map(t=>fetch(`${e}/supervisor/`+encodeURIComponent(t),{method:"get"}).then(e=>e.json())))).then(e=>{this.set({configs:e})}).catch(function(e){console.error(e)})}).call(this),this.fire("update",{changed:o({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),this._lock=!0,O(this._beforecreate),O(this._oncreate),O(this._aftercreate),this._lock=!1)}r(X.prototype,S),r(X.prototype,z);new X({target:document.getElementById("supervisors"),data:{}})}]);